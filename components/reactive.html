<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Component Mapping</title>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>

<div id="root"></div>

<script type="text/babel" src="./ExpandableCard/ExpandableCard.jsx"></script>
<script type="text/babel" src="./PlatformRow/PlatformRow.jsx"></script>
<script type="text/babel" src="./ComponentMappingCard/ComponentMappingCard.jsx"></script>

<script type="text/babel">
  fetch("./compose_full.json")
    .then(r => r.json())
    .then(data => {
      const ComponentMappingCard = window.ComponentMappingCard;

      const categories = Object.keys(data).map(key => ({
        title: key,
        items: data[key]
      }));

      function Page() {
        return (
          <div>
            {categories.map(cat => (
              <ComponentMappingCard 
                key={cat.title}
                title={cat.title}
                id={cat.title}
                items={cat.items}
              />
            ))}
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root"))
        .render(<Page />);
    });
</script>

</body>
</html>
